---
import { SEO } from "astro-seo";
import "../styles/global.css";

export interface Props {
  title?: string;
  description?: string;
  image?: string;
  type?: string;
}

const {
  title = "Aaron D'silva • Technical Co-Founder",
  description = "Technical Co-Founder & Product Builder. Helping ambitious founders build and scale mobile products from zero to Series A. 3 startups co-founded, 2 successful exits.",
  image = "/og-image.svg",
  type = "website"
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
const socialImage = new URL(image, Astro.site);
---

<!doctype html>
<html lang="en" class="dark">
	<head>
		<SEO
			title={title}
			description={description}
			canonical={canonicalURL.href}
			charset="UTF-8"
			openGraph={{
				basic: {
					title: title,
					type: type,
					image: socialImage.href,
					url: canonicalURL.href
				},
				optional: {
					description: description,
					siteName: "Aaron D'silva Portfolio",
					locale: "en_US"
				},
				image: {
					alt: "Aaron D'silva - Mobile & Web Developer Portfolio",
					width: 1200,
					height: 630,
					type: "image/jpeg"
				}
			}}
			twitter={{
				card: "summary_large_image",
				site: "@aarondsilva97",
				creator: "@aarondsilva97",
				title: title,
				description: description,
				image: socialImage.href,
				imageAlt: "Aaron D'silva - Mobile & Web Developer Portfolio"
			}}
			extend={{
				link: [
					{ rel: "icon", type: "image/svg+xml", href: "/favicon.svg" },
					{ rel: "sitemap", href: "/sitemap-index.xml" },
					{ rel: "alternate", type: "application/rss+xml", href: "/rss.xml" }
				],
				meta: [
					{ name: "viewport", content: "width=device-width, initial-scale=1.0" },
					{ name: "generator", content: Astro.generator },
					{ name: "author", content: "Aaron D'silva" },
					{ name: "keywords", content: "React Native, Flutter, Mobile Development, Web Development, JavaScript, TypeScript, The Lean Product Studio" },
					{ name: "theme-color", content: "#8b5cf6" },
					{ name: "apple-mobile-web-app-capable", content: "yes" },
					{ name: "apple-mobile-web-app-status-bar-style", content: "default" },
					{ name: "msapplication-TileColor", content: "#8b5cf6" },
					{ property: "profile:first_name", content: "Aaron" },
					{ property: "profile:last_name", content: "D'silva" },
					{ property: "profile:username", content: "aarondsilva97" },
					{ property: "article:author", content: "https://github.com/AaronDsilva97" }
				]
			}}
		/>

		<!-- Structured Data (JSON-LD) -->
		<script type="application/ld+json" set:html={JSON.stringify({
			"@context": "https://schema.org",
			"@graph": [
				{
					"@type": "Person",
					"@id": "https://aarondsilva.me/#person",
					"name": "Aaron D'silva",
					"url": "https://aarondsilva.me",
					"image": {
						"@type": "ImageObject",
						"url": socialImage.href,
						"caption": "Aaron D'silva - Mobile & Web Developer"
					},
					"description": "Mobile & Web Developer at The Lean Product Studio specializing in React Native, Flutter, and modern web technologies",
					"jobTitle": "Mobile & Web Developer",
					"worksFor": {
						"@type": "Organization",
						"name": "The Lean Product Studio",
						"url": "https://theleanproductstudio.com"
					},
					"knowsAbout": [
						"React Native Development",
						"Flutter Development",
						"JavaScript",
						"TypeScript",
						"Mobile App Development",
						"Web Development",
						"Cross-platform Development"
					],
					"sameAs": [
						"https://github.com/AaronDsilva97",
						"https://www.linkedin.com/in/aaronxdsilva/"
					]
				},
				{
					"@type": "WebSite",
					"@id": "https://aarondsilva.me/#website",
					"url": "https://aarondsilva.me",
					"name": "Aaron D'silva Portfolio",
					"description": "Portfolio website of Aaron D'silva, showcasing mobile and web development projects",
					"publisher": {
						"@id": "https://aarondsilva.me/#person"
					},
					"inLanguage": "en-US"
				},
				{
					"@type": "WebPage",
					"@id": canonicalURL.href + "#webpage",
					"url": canonicalURL.href,
					"name": title,
					"description": description,
					"isPartOf": {
						"@id": "https://aarondsilva.me/#website"
					},
					"about": {
						"@id": "https://aarondsilva.me/#person"
					},
					"datePublished": "2024-01-01T00:00:00.000Z",
					"dateModified": new Date().toISOString(),
					"breadcrumb": {
						"@type": "BreadcrumbList",
						"itemListElement": [
							{
								"@type": "ListItem",
								"position": 1,
								"name": "Home",
								"item": "https://aarondsilva.me"
							}
						]
					}
				}
			]
		})} />

		<!-- Preload modern fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

	</head>
	<body class="bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950 text-slate-100 font-sans antialiased relative overflow-x-hidden">
		<!-- Animated background elements -->
		<div class="fixed inset-0 pointer-events-none">
			<div class="absolute top-0 -left-4 w-72 h-72 bg-purple-500/10 rounded-full mix-blend-multiply filter blur-3xl animate-blob"></div>
			<div class="absolute top-0 -right-4 w-72 h-72 bg-yellow-500/10 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"></div>
			<div class="absolute -bottom-8 left-20 w-72 h-72 bg-pink-500/10 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-4000"></div>
		</div>

		<div class="min-h-screen relative z-10">
			<slot />
		</div>

		<!-- Command Palette -->
		<div id="command-palette-root"></div>

		<!-- Command palette trigger hint -->
		<div id="command-hint" class="fixed bottom-4 right-4 text-xs text-slate-400 pointer-events-none z-20 backdrop-blur-sm bg-slate-900/30 rounded-lg px-3 py-2 border border-slate-700/50 hidden md:block">
			Press <kbd class="px-1.5 py-0.5 bg-slate-800/80 rounded border border-slate-600 text-slate-300 font-mono">⌘K</kbd> for commands
		</div>

		<!-- Dynamic keyboard shortcut detection -->
		<script>
			// Update keyboard shortcut hint based on platform
			document.addEventListener('DOMContentLoaded', function() {
				const hint = document.getElementById('command-hint');
				const kbd = hint?.querySelector('kbd');

				if (kbd) {
					const isMac = navigator.platform.toLowerCase().includes('mac');
					const isWindows = navigator.platform.toLowerCase().includes('win');

					if (isMac) {
						kbd.textContent = '⌘K';
					} else if (isWindows || navigator.platform.toLowerCase().includes('linux')) {
						kbd.textContent = 'Ctrl+K';
					} else {
						kbd.textContent = 'Ctrl+K';
					}
				}
			});
		</script>
	</body>
</html>

<style is:global>
	:root {
		--font-inter: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
		--font-mono: 'JetBrains Mono', 'SF Mono', 'Monaco', 'Consolas', monospace;
		--gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		--gradient-accent: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
		--glow-primary: 0 0 20px rgba(102, 126, 234, 0.3);
		--glow-secondary: 0 0 20px rgba(245, 87, 108, 0.3);
	}

	html {
		font-family: var(--font-inter);
		scroll-behavior: smooth;
	}

	body {
		margin: 0;
		line-height: 1.6;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
	}

	/* Animated background blobs */
	@keyframes blob {
		0% {
			transform: translate(0px, 0px) scale(1);
		}
		33% {
			transform: translate(30px, -50px) scale(1.1);
		}
		66% {
			transform: translate(-20px, 20px) scale(0.9);
		}
		100% {
			transform: translate(0px, 0px) scale(1);
		}
	}

	.animate-blob {
		animation: blob 7s infinite;
	}

	.animation-delay-2000 {
		animation-delay: 2s;
	}

	.animation-delay-4000 {
		animation-delay: 4s;
	}

	/* Fade in animation */
	@keyframes fadeIn {
		from {
			opacity: 0;
			transform: translateY(20px);
		}
		to {
			opacity: 1;
			transform: translateY(0);
		}
	}

	.animate-fade-in {
		animation: fadeIn 0.6s ease-out forwards;
	}

	/* Glow effect */
	.glow-effect {
		box-shadow: var(--glow-primary);
	}

	.glow-accent {
		box-shadow: var(--glow-secondary);
	}

	/* Custom scrollbar */
	::-webkit-scrollbar {
		width: 6px;
	}

	::-webkit-scrollbar-track {
		background: #0f172a;
	}

	::-webkit-scrollbar-thumb {
		background: linear-gradient(to bottom, #667eea, #764ba2);
		border-radius: 3px;
	}

	::-webkit-scrollbar-thumb:hover {
		background: linear-gradient(to bottom, #5a6fd8, #6a4190);
	}

	/* Focus styles */
	*:focus {
		outline: 2px solid #667eea;
		outline-offset: 2px;
	}

	*:focus:not(:focus-visible) {
		outline: none;
	}

	/* Selection styles */
	::selection {
		background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
		color: #ffffff;
	}

	/* Smooth animations for theme changes */
	*, *::before, *::after {
		transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	}

	/* Hover effects */
	.hover-lift:hover {
		transform: translateY(-2px);
	}

	.hover-glow:hover {
		box-shadow: var(--glow-primary);
	}

	/* Glass effect */
	.glass-effect {
		background: rgba(255, 255, 255, 0.05);
		backdrop-filter: blur(10px);
		border: 1px solid rgba(255, 255, 255, 0.1);
	}

	/* Code styling */
	code, kbd, .font-mono {
		font-family: var(--font-mono);
	}

	/* Interactive element styles */
	.interactive-card {
		transition: transform 0.2s ease, box-shadow 0.2s ease;
	}

	.interactive-card:hover {
		transform: translateY(-4px) scale(1.02);
		box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3), var(--glow-primary);
	}

	/* Pulse animation for active elements */
	@keyframes pulse {
		0%, 100% {
			opacity: 1;
		}
		50% {
			opacity: 0.5;
		}
	}

	.animate-pulse-slow {
		animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
	}
</style>
