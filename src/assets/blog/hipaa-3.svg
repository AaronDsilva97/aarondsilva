<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 900">
  <defs>
    <style>
      .bg { fill: #0f172a; }
      .title { fill: #e2e8f0; font-family: 'Arial', sans-serif; font-size: 24px; font-weight: bold; }
      .subtitle { fill: #cbd5e1; font-family: 'Arial', sans-serif; font-size: 16px; font-weight: bold; }
      .text { fill: #e2e8f0; font-family: 'Arial', sans-serif; font-size: 14px; }
      .small-text { fill: #cbd5e1; font-family: 'Arial', sans-serif; font-size: 12px; }
      .layer-user { fill: #8b5cf6; stroke: #a78bfa; stroke-width: 2; }
      .layer-transport { fill: #ec4899; stroke: #f472b6; stroke-width: 2; }
      .layer-app { fill: #3b82f6; stroke: #60a5fa; stroke-width: 2; }
      .layer-db { fill: #10b981; stroke: #34d399; stroke-width: 2; }
      .layer-storage { fill: #f59e0b; stroke: #fbbf24; stroke-width: 2; }
      .flow-line { stroke: #e2e8f0; stroke-width: 3; fill: none; stroke-dasharray: 5,5; }
      .arrow { fill: #e2e8f0; }
    </style>
  </defs>

  <!-- Background -->
  <rect class="bg" width="1200" height="900"/>

  <!-- Title -->
  <text class="title" x="600" y="40" text-anchor="middle">Encryption Architecture: Data Protection at Every Layer</text>

  <!-- Layer 1: User Layer -->
  <rect class="layer-user" x="100" y="100" width="1000" height="140" rx="8"/>
  <text class="subtitle" x="150" y="130" text-anchor="start">User Layer</text>

  <text class="text" x="150" y="165" text-anchor="start">Biometric Authentication</text>
  <text class="small-text" x="165" y="185" text-anchor="start">• Face ID / Touch ID / Fingerprint</text>
  <text class="small-text" x="165" y="205" text-anchor="start">• Device-level secure enclave</text>
  <text class="small-text" x="165" y="225" text-anchor="start">• Local authentication only (not sent over network)</text>

  <text class="text" x="550" y="165" text-anchor="start">Secure Mobile Storage</text>
  <text class="small-text" x="565" y="185" text-anchor="start">• iOS Keychain / Android Keystore</text>
  <text class="small-text" x="565" y="205" text-anchor="start">• Hardware-backed encryption</text>
  <text class="small-text" x="565" y="225" text-anchor="start">• Never store PHI in AsyncStorage</text>

  <!-- Layer 2: Transport Layer -->
  <rect class="layer-transport" x="100" y="260" width="1000" height="140" rx="8"/>
  <text class="subtitle" x="150" y="290" text-anchor="start">Transport Layer</text>

  <text class="text" x="150" y="325" text-anchor="start">TLS 1.3 Encryption</text>
  <text class="small-text" x="165" y="345" text-anchor="start">• Minimum TLS 1.2 (prefer 1.3)</text>
  <text class="small-text" x="165" y="365" text-anchor="start">• Strong cipher suites only</text>
  <text class="small-text" x="165" y="385" text-anchor="start">• HTTPS enforced on all endpoints</text>

  <text class="text" x="550" y="325" text-anchor="start">Certificate Pinning</text>
  <text class="small-text" x="565" y="345" text-anchor="start">• Pin specific certificates in mobile apps</text>
  <text class="small-text" x="565" y="365" text-anchor="start">• Prevents man-in-the-middle attacks</text>
  <text class="small-text" x="565" y="385" text-anchor="start">• Critical for public WiFi protection</text>

  <!-- Layer 3: Application Layer -->
  <rect class="layer-app" x="100" y="420" width="1000" height="140" rx="8"/>
  <text class="subtitle" x="150" y="450" text-anchor="start">Application Layer</text>

  <text class="text" x="150" y="485" text-anchor="start">Encrypted Payloads</text>
  <text class="small-text" x="165" y="505" text-anchor="start">• End-to-end encryption for sensitive data</text>
  <text class="small-text" x="165" y="525" text-anchor="start">• Encrypted JWT tokens with short expiry</text>
  <text class="small-text" x="165" y="545" text-anchor="start">• No PHI in logs or error messages</text>

  <text class="text" x="550" y="485" text-anchor="start">Key Management</text>
  <text class="small-text" x="565" y="505" text-anchor="start">• AWS KMS / HashiCorp Vault / Azure Key Vault</text>
  <text class="small-text" x="565" y="525" text-anchor="start">• Regular key rotation (90-day cycle)</text>
  <text class="small-text" x="565" y="545" text-anchor="start">• Separate keys per environment</text>

  <!-- Layer 4: Database Layer -->
  <rect class="layer-db" x="100" y="580" width="1000" height="140" rx="8"/>
  <text class="subtitle" x="150" y="610" text-anchor="start">Database Layer</text>

  <text class="text" x="150" y="645" text-anchor="start">Encryption at Rest</text>
  <text class="small-text" x="165" y="665" text-anchor="start">• PostgreSQL TDE / MySQL encryption</text>
  <text class="small-text" x="165" y="685" text-anchor="start">• AWS RDS encryption enabled</text>
  <text class="small-text" x="165" y="705" text-anchor="start">• Column-level encryption for extra sensitive fields</text>

  <text class="text" x="550" y="645" text-anchor="start">Encrypted Backups</text>
  <text class="small-text" x="565" y="665" text-anchor="start">• All backups encrypted with separate keys</text>
  <text class="small-text" x="565" y="685" text-anchor="start">• Stored in different region/availability zone</text>
  <text class="small-text" x="565" y="705" text-anchor="start">• Regularly tested for restoration</text>

  <!-- Layer 5: Storage Layer -->
  <rect class="layer-storage" x="100" y="740" width="1000" height="140" rx="8"/>
  <text class="subtitle" x="150" y="770" text-anchor="start">Storage Layer</text>

  <text class="text" x="150" y="805" text-anchor="start">S3 Server-Side Encryption</text>
  <text class="small-text" x="165" y="825" text-anchor="start">• SSE-S3 or SSE-KMS for all buckets</text>
  <text class="small-text" x="165" y="845" text-anchor="start">• Block all public access</text>
  <text class="small-text" x="165" y="865" text-anchor="start">• Versioning + MFA delete enabled</text>

  <text class="text" x="550" y="805" text-anchor="start">Access Controls</text>
  <text class="small-text" x="565" y="825" text-anchor="start">• IAM roles with least privilege</text>
  <text class="small-text" x="565" y="845" text-anchor="start">• Bucket policies restrict access</text>
  <text class="small-text" x="565" y="865" text-anchor="start">• CloudTrail logging all access</text>

  <!-- Data Flow Arrow -->
  <path class="flow-line" d="M 1120 170 L 1150 170 L 1150 800 L 50 800 L 50 170 L 80 170"/>
  <polygon class="arrow" points="80,170 70,165 70,175"/>
  <text class="small-text" x="1165" y="500" text-anchor="start">Data flows through</text>
  <text class="small-text" x="1165" y="520" text-anchor="start">all encrypted layers</text>
</svg>