<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 800">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.3" />
    </linearGradient>
    <linearGradient id="grad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:0.3" />
      <stop offset="100%" style="stop-color:#3b82f6;stop-opacity:0.3" />
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="1200" height="800" fill="#0f172a"/>

  <!-- Title -->
  <text x="600" y="40" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#e2e8f0" text-anchor="middle">Serverless Healthcare Reference Architecture</text>

  <!-- VPC Container -->
  <rect x="50" y="120" width="1100" height="620" rx="10" fill="none" stroke="#475569" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="70" y="145" font-family="Arial, sans-serif" font-size="14" fill="#94a3b8">VPC</text>

  <!-- Availability Zones -->
  <rect x="80" y="160" width="500" height="540" rx="8" fill="url(#grad1)" stroke="#6366f1" stroke-width="1.5"/>
  <text x="95" y="185" font-family="Arial, sans-serif" font-size="12" fill="#e2e8f0">Availability Zone 1</text>

  <rect x="620" y="160" width="500" height="540" rx="8" fill="url(#grad1)" stroke="#6366f1" stroke-width="1.5"/>
  <text x="635" y="185" font-family="Arial, sans-serif" font-size="12" fill="#e2e8f0">Availability Zone 2</text>

  <!-- Route53 -->
  <circle cx="100" cy="80" r="25" fill="#8b5cf6" filter="url(#glow)"/>
  <text x="100" y="88" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">Route53</text>

  <!-- CloudFront + WAF -->
  <rect x="220" y="55" width="120" height="50" rx="5" fill="#ec4899" filter="url(#glow)"/>
  <text x="280" y="75" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">CloudFront</text>
  <text x="280" y="95" font-family="Arial, sans-serif" font-size="10" fill="#fff" text-anchor="middle">+ WAF</text>

  <!-- API Gateway -->
  <rect x="400" y="55" width="120" height="50" rx="5" fill="#3b82f6" filter="url(#glow)"/>
  <text x="460" y="75" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">API Gateway</text>
  <text x="460" y="95" font-family="Arial, sans-serif" font-size="10" fill="#fff" text-anchor="middle">Authorizer</text>

  <!-- Public Subnets AZ1 -->
  <rect x="100" y="210" width="220" height="80" rx="5" fill="#1e293b" stroke="#10b981" stroke-width="1.5"/>
  <text x="110" y="230" font-family="Arial, sans-serif" font-size="11" fill="#10b981">Public Subnet</text>
  <rect x="120" y="245" width="80" height="35" rx="3" fill="#10b981"/>
  <text x="160" y="267" font-family="Arial, sans-serif" font-size="10" fill="#fff" text-anchor="middle">NAT GW</text>

  <!-- Public Subnets AZ2 -->
  <rect x="640" y="210" width="220" height="80" rx="5" fill="#1e293b" stroke="#10b981" stroke-width="1.5"/>
  <text x="650" y="230" font-family="Arial, sans-serif" font-size="11" fill="#10b981">Public Subnet</text>
  <rect x="660" y="245" width="80" height="35" rx="3" fill="#10b981"/>
  <text x="700" y="267" font-family="Arial, sans-serif" font-size="10" fill="#fff" text-anchor="middle">NAT GW</text>

  <!-- Private Subnets AZ1 -->
  <rect x="100" y="310" width="460" height="370" rx="5" fill="#1e293b" stroke="#8b5cf6" stroke-width="1.5"/>
  <text x="110" y="330" font-family="Arial, sans-serif" font-size="11" fill="#8b5cf6">Private Subnet</text>

  <!-- Lambda Functions AZ1 -->
  <g transform="translate(120, 345)">
    <rect width="200" height="60" rx="5" fill="#8b5cf6"/>
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#fff" text-anchor="middle">Lambda Functions</text>
    <text x="100" y="43" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle">(VPC Private Subnets)</text>
    <rect x="5" y="5" width="25" height="8" rx="2" fill="#ec4899"/>
    <text x="35" y="13" font-family="Arial, sans-serif" font-size="8" fill="#fff">PHI</text>
  </g>

  <!-- DynamoDB -->
  <rect x="120" y="430" width="90" height="50" rx="5" fill="#10b981"/>
  <text x="165" y="452" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff" text-anchor="middle">DynamoDB</text>
  <text x="165" y="467" font-family="Arial, sans-serif" font-size="8" fill="#fff" text-anchor="middle">Encrypted</text>

  <!-- Aurora Serverless -->
  <rect x="230" y="430" width="90" height="50" rx="5" fill="#10b981"/>
  <text x="275" y="448" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff" text-anchor="middle">Aurora</text>
  <text x="275" y="462" font-family="Arial, sans-serif" font-size="8" fill="#fff" text-anchor="middle">Serverless v2</text>
  <text x="275" y="475" font-family="Arial, sans-serif" font-size="8" fill="#fff" text-anchor="middle">Encrypted</text>

  <!-- S3 -->
  <rect x="120" y="500" width="90" height="50" rx="5" fill="#10b981"/>
  <text x="165" y="522" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff" text-anchor="middle">S3</text>
  <text x="165" y="537" font-family="Arial, sans-serif" font-size="8" fill="#fff" text-anchor="middle">Encrypted</text>

  <!-- VPC Endpoints -->
  <rect x="360" y="500" width="180" height="35" rx="5" fill="#3b82f6"/>
  <text x="450" y="522" font-family="Arial, sans-serif" font-size="10" fill="#fff" text-anchor="middle">VPC Endpoints</text>

  <!-- Private Subnets AZ2 -->
  <rect x="640" y="310" width="460" height="370" rx="5" fill="#1e293b" stroke="#8b5cf6" stroke-width="1.5"/>
  <text x="650" y="330" font-family="Arial, sans-serif" font-size="11" fill="#8b5cf6">Private Subnet</text>

  <!-- Lambda Functions AZ2 -->
  <g transform="translate(660, 345)">
    <rect width="200" height="60" rx="5" fill="#8b5cf6"/>
    <text x="100" y="25" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#fff" text-anchor="middle">Lambda Functions</text>
    <text x="100" y="43" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle">(VPC Private Subnets)</text>
    <rect x="5" y="5" width="25" height="8" rx="2" fill="#ec4899"/>
    <text x="35" y="13" font-family="Arial, sans-serif" font-size="8" fill="#fff">PHI</text>
  </g>

  <!-- DynamoDB Replica -->
  <rect x="660" y="430" width="90" height="50" rx="5" fill="#10b981"/>
  <text x="705" y="452" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff" text-anchor="middle">DynamoDB</text>
  <text x="705" y="467" font-family="Arial, sans-serif" font-size="8" fill="#fff" text-anchor="middle">Replica</text>

  <!-- Aurora Replica -->
  <rect x="770" y="430" width="90" height="50" rx="5" fill="#10b981"/>
  <text x="815" y="448" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff" text-anchor="middle">Aurora</text>
  <text x="815" y="462" font-family="Arial, sans-serif" font-size="8" fill="#fff" text-anchor="middle">Read Replica</text>
  <text x="815" y="475" font-family="Arial, sans-serif" font-size="8" fill="#fff" text-anchor="middle">Encrypted</text>

  <!-- Supporting Services -->
  <rect x="920" y="580" width="180" height="110" rx="5" fill="#1e293b" stroke="#475569" stroke-width="1.5"/>
  <text x="1010" y="600" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e2e8f0" text-anchor="middle">Supporting Services</text>

  <rect x="930" y="610" width="160" height="20" rx="3" fill="#ec4899"/>
  <text x="1010" y="624" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle">Secrets Manager</text>

  <rect x="930" y="635" width="160" height="20" rx="3" fill="#3b82f6"/>
  <text x="1010" y="649" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle">CloudTrail (Audit Acct)</text>

  <rect x="930" y="660" width="160" height="20" rx="3" fill="#3b82f6"/>
  <text x="1010" y="674" font-family="Arial, sans-serif" font-size="9" fill="#fff" text-anchor="middle">CloudWatch Logs</text>

  <!-- EventBridge -->
  <rect x="120" y="570" width="200" height="35" rx="5" fill="#ec4899"/>
  <text x="220" y="592" font-family="Arial, sans-serif" font-size="10" fill="#fff" text-anchor="middle">EventBridge (Event Routing)</text>

  <!-- Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#94a3b8" />
    </marker>
  </defs>

  <!-- Route53 to CloudFront -->
  <line x1="125" y1="80" x2="220" y2="80" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- CloudFront to API Gateway -->
  <line x1="340" y1="80" x2="400" y2="80" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- API Gateway to Lambda AZ1 -->
  <line x1="460" y1="105" x2="220" y2="345" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- API Gateway to Lambda AZ2 -->
  <line x1="480" y1="105" x2="760" y2="345" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Lambda to DynamoDB -->
  <line x1="220" y1="405" x2="165" y2="430" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Lambda to Aurora -->
  <line x1="250" y1="405" x2="275" y2="430" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Lambda to S3 -->
  <line x1="180" y1="405" x2="165" y2="500" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrowhead)"/>

  <!-- Legend -->
  <rect x="50" y="750" width="15" height="15" fill="#ec4899"/>
  <text x="75" y="762" font-family="Arial, sans-serif" font-size="11" fill="#e2e8f0">PHI Components</text>

  <rect x="200" y="750" width="15" height="15" fill="#10b981"/>
  <text x="225" y="762" font-family="Arial, sans-serif" font-size="11" fill="#e2e8f0">Data Layer</text>

  <rect x="350" y="750" width="15" height="15" fill="#8b5cf6"/>
  <text x="375" y="762" font-family="Arial, sans-serif" font-size="11" fill="#e2e8f0">Compute</text>

  <rect x="500" y="750" width="15" height="15" fill="#3b82f6"/>
  <text x="525" y="762" font-family="Arial, sans-serif" font-size="11" fill="#e2e8f0">API &amp; Security</text>
</svg>