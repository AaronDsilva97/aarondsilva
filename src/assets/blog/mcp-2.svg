<svg viewBox="0 0 1200 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="600" fill="#0f172a"/>

  <!-- Title -->
  <text x="600" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="600" fill="#e2e8f0" text-anchor="middle">MCP Client-Server Communication Flow</text>

  <!-- MCP Host (Claude) -->
  <g id="host">
    <rect x="50" y="200" width="250" height="200" rx="12" fill="#3b82f6" opacity="0.2" stroke="#3b82f6" stroke-width="3"/>
    <text x="175" y="240" font-family="system-ui, -apple-system, sans-serif" font-size="18" font-weight="600" fill="#e2e8f0" text-anchor="middle">MCP Host</text>
    <text x="175" y="265" font-family="system-ui, -apple-system, sans-serif" font-size="16" fill="#94a3b8" text-anchor="middle">(Claude Desktop)</text>

    <!-- User icon -->
    <g transform="translate(175, 310)">
      <circle cx="0" cy="-10" r="20" fill="#3b82f6"/>
      <path d="M -25 30 Q -25 10, 0 10 Q 25 10, 25 30" fill="#3b82f6"/>
    </g>
  </g>

  <!-- MCP Client -->
  <g id="client">
    <rect x="475" y="200" width="250" height="200" rx="12" fill="#10b981" opacity="0.2" stroke="#10b981" stroke-width="3"/>
    <text x="600" y="240" font-family="system-ui, -apple-system, sans-serif" font-size="18" font-weight="600" fill="#e2e8f0" text-anchor="middle">MCP Client</text>
    <text x="600" y="265" font-family="system-ui, -apple-system, sans-serif" font-size="16" fill="#94a3b8" text-anchor="middle">(Protocol Handler)</text>

    <!-- Connector icon -->
    <g transform="translate(600, 320)">
      <rect x="-30" y="-15" width="60" height="30" rx="6" fill="none" stroke="#10b981" stroke-width="2"/>
      <circle cx="-15" cy="0" r="5" fill="#10b981"/>
      <circle cx="0" cy="0" r="5" fill="#10b981"/>
      <circle cx="15" cy="0" r="5" fill="#10b981"/>
    </g>
  </g>

  <!-- MCP Server -->
  <g id="server">
    <rect x="900" y="200" width="250" height="200" rx="12" fill="#f59e0b" opacity="0.2" stroke="#f59e0b" stroke-width="3"/>
    <text x="1025" y="240" font-family="system-ui, -apple-system, sans-serif" font-size="18" font-weight="600" fill="#e2e8f0" text-anchor="middle">MCP Server</text>
    <text x="1025" y="265" font-family="system-ui, -apple-system, sans-serif" font-size="16" fill="#94a3b8" text-anchor="middle">(Your Tools)</text>

    <!-- Server icon -->
    <g transform="translate(1025, 310)">
      <rect x="-35" y="-20" width="70" height="15" rx="2" fill="none" stroke="#f59e0b" stroke-width="2"/>
      <circle cx="-20" cy="-12" r="3" fill="#f59e0b"/>
      <rect x="-35" y="0" width="70" height="15" rx="2" fill="none" stroke="#f59e0b" stroke-width="2"/>
      <circle cx="-20" cy="8" r="3" fill="#f59e0b"/>
      <rect x="-35" y="20" width="70" height="15" rx="2" fill="none" stroke="#f59e0b" stroke-width="2"/>
      <circle cx="-20" cy="28" r="3" fill="#f59e0b"/>
    </g>
  </g>

  <!-- Request arrows (top) -->
  <defs>
    <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#8b5cf6" />
    </marker>
  </defs>

  <path d="M 300 250 L 475 250" stroke="#8b5cf6" stroke-width="3" fill="none" marker-end="url(#arrow-blue)"/>
  <text x="387" y="240" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="500" fill="#8b5cf6" text-anchor="middle">Request</text>

  <path d="M 725 250 L 900 250" stroke="#8b5cf6" stroke-width="3" fill="none" marker-end="url(#arrow-blue)"/>
  <text x="812" y="240" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="500" fill="#8b5cf6" text-anchor="middle">Request</text>

  <!-- JSON data packets (top) -->
  <g id="json-request-1" transform="translate(387, 265)">
    <rect x="-50" y="0" width="100" height="40" rx="4" fill="#1e293b" stroke="#8b5cf6" stroke-width="1"/>
    <text x="0" y="15" font-family="monospace" font-size="10" fill="#8b5cf6" text-anchor="middle">{</text>
    <text x="0" y="25" font-family="monospace" font-size="10" fill="#e2e8f0" text-anchor="middle">"method": "call"</text>
    <text x="0" y="35" font-family="monospace" font-size="10" fill="#8b5cf6" text-anchor="middle">}</text>
  </g>

  <g id="json-request-2" transform="translate(812, 265)">
    <rect x="-55" y="0" width="110" height="40" rx="4" fill="#1e293b" stroke="#8b5cf6" stroke-width="1"/>
    <text x="0" y="15" font-family="monospace" font-size="10" fill="#8b5cf6" text-anchor="middle">{</text>
    <text x="0" y="25" font-family="monospace" font-size="10" fill="#e2e8f0" text-anchor="middle">"tool": "getData"</text>
    <text x="0" y="35" font-family="monospace" font-size="10" fill="#8b5cf6" text-anchor="middle">}</text>
  </g>

  <!-- Response arrows (bottom) -->
  <defs>
    <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#10b981" />
    </marker>
  </defs>

  <path d="M 900 350 L 725 350" stroke="#10b981" stroke-width="3" fill="none" marker-end="url(#arrow-green)"/>
  <text x="812" y="380" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="500" fill="#10b981" text-anchor="middle">Response</text>

  <path d="M 475 350 L 300 350" stroke="#10b981" stroke-width="3" fill="none" marker-end="url(#arrow-green)"/>
  <text x="387" y="380" font-family="system-ui, -apple-system, sans-serif" font-size="14" font-weight="500" fill="#10b981" text-anchor="middle">Response</text>

  <!-- JSON data packets (bottom) -->
  <g id="json-response-2" transform="translate(812, 390)">
    <rect x="-55" y="0" width="110" height="50" rx="4" fill="#1e293b" stroke="#10b981" stroke-width="1"/>
    <text x="0" y="15" font-family="monospace" font-size="10" fill="#10b981" text-anchor="middle">{</text>
    <text x="0" y="25" font-family="monospace" font-size="10" fill="#e2e8f0" text-anchor="middle">"data": [...]</text>
    <text x="0" y="35" font-family="monospace" font-size="10" fill="#e2e8f0" text-anchor="middle">"status": "ok"</text>
    <text x="0" y="45" font-family="monospace" font-size="10" fill="#10b981" text-anchor="middle">}</text>
  </g>

  <g id="json-response-1" transform="translate(387, 390)">
    <rect x="-50" y="0" width="100" height="50" rx="4" fill="#1e293b" stroke="#10b981" stroke-width="1"/>
    <text x="0" y="15" font-family="monospace" font-size="10" fill="#10b981" text-anchor="middle">{</text>
    <text x="0" y="25" font-family="monospace" font-size="10" fill="#e2e8f0" text-anchor="middle">"result": {...}</text>
    <text x="0" y="35" font-family="monospace" font-size="10" fill="#e2e8f0" text-anchor="middle">"success": true</text>
    <text x="0" y="45" font-family="monospace" font-size="10" fill="#10b981" text-anchor="middle">}</text>
  </g>

  <!-- Bottom description -->
  <text x="600" y="520" font-family="system-ui, -apple-system, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">The host sends requests through the client to the server, which processes tools</text>
  <text x="600" y="545" font-family="system-ui, -apple-system, sans-serif" font-size="14" fill="#94a3b8" text-anchor="middle">and returns structured JSON responses back through the same channel.</text>
</svg>