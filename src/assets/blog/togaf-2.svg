<svg viewBox="0 0 1200 700" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="1200" height="700" fill="#0f172a"/>

  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" fill="#e2e8f0" font-size="18" font-weight="bold">Outpatient Visit: Patient Journey</text>

  <!-- Swim Lanes -->
  <!-- Patient Lane -->
  <g>
    <rect x="50" y="60" width="1100" height="100" fill="#1e293b" stroke="#475569" stroke-width="1"/>
    <text x="100" y="90" fill="#8b5cf6" font-size="14" font-weight="bold">Patient</text>
  </g>

  <!-- Front Desk Lane -->
  <g>
    <rect x="50" y="160" width="1100" height="100" fill="#1e293b" stroke="#475569" stroke-width="1"/>
    <text x="100" y="190" fill="#10b981" font-size="14" font-weight="bold">Front Desk</text>
  </g>

  <!-- Clinical Staff Lane -->
  <g>
    <rect x="50" y="260" width="1100" height="100" fill="#1e293b" stroke="#475569" stroke-width="1"/>
    <text x="100" y="290" fill="#3b82f6" font-size="14" font-weight="bold">Clinical Staff</text>
  </g>

  <!-- Billing Lane -->
  <g>
    <rect x="50" y="360" width="1100" height="100" fill="#1e293b" stroke="#475569" stroke-width="1"/>
    <text x="100" y="390" fill="#ec4899" font-size="14" font-weight="bold">Billing</text>
  </g>

  <!-- External Systems Lane -->
  <g>
    <rect x="50" y="460" width="1100" height="100" fill="#1e293b" stroke="#475569" stroke-width="1"/>
    <text x="100" y="490" fill="#f59e0b" font-size="14" font-weight="bold">External Systems</text>
  </g>

  <!-- Process Steps -->
  <!-- Step 1: Online Scheduling -->
  <g>
    <rect x="200" y="80" width="90" height="60" rx="5" fill="#8b5cf6" opacity="0.8"/>
    <text x="245" y="105" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">Online</text>
    <text x="245" y="120" text-anchor="middle" fill="#fff" font-size="11">Scheduling</text>
    <text x="245" y="155" text-anchor="middle" fill="#94a3b8" font-size="9">Portal</text>
  </g>

  <!-- Step 2: Check-in -->
  <g>
    <rect x="330" y="180" width="90" height="60" rx="5" fill="#10b981" opacity="0.8"/>
    <text x="375" y="205" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">Check-in</text>
    <text x="375" y="220" text-anchor="middle" fill="#fff" font-size="11">Registration</text>
    <text x="375" y="255" text-anchor="middle" fill="#94a3b8" font-size="9">EHR</text>
  </g>

  <!-- Step 3: Clinical Encounter -->
  <g>
    <rect x="460" y="280" width="90" height="60" rx="5" fill="#3b82f6" opacity="0.8"/>
    <text x="505" y="305" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">Clinical</text>
    <text x="505" y="320" text-anchor="middle" fill="#fff" font-size="11">Encounter</text>
    <text x="505" y="355" text-anchor="middle" fill="#94a3b8" font-size="9">EHR</text>
  </g>

  <!-- Step 4: Lab Orders -->
  <g>
    <rect x="590" y="480" width="90" height="60" rx="5" fill="#f59e0b" opacity="0.8"/>
    <text x="635" y="505" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">Lab</text>
    <text x="635" y="520" text-anchor="middle" fill="#fff" font-size="11">Processing</text>
    <text x="635" y="555" text-anchor="middle" fill="#94a3b8" font-size="9">Lab System</text>
  </g>

  <!-- Step 5: Results Review -->
  <g>
    <rect x="720" y="280" width="90" height="60" rx="5" fill="#3b82f6" opacity="0.8"/>
    <text x="765" y="305" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">Results</text>
    <text x="765" y="320" text-anchor="middle" fill="#fff" font-size="11">Review</text>
    <text x="765" y="355" text-anchor="middle" fill="#94a3b8" font-size="9">EHR</text>
  </g>

  <!-- Step 6: Billing -->
  <g>
    <rect x="850" y="380" width="90" height="60" rx="5" fill="#ec4899" opacity="0.8"/>
    <text x="895" y="405" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">Claims</text>
    <text x="895" y="420" text-anchor="middle" fill="#fff" font-size="11">Processing</text>
    <text x="895" y="455" text-anchor="middle" fill="#94a3b8" font-size="9">Billing System</text>
  </g>

  <!-- Step 7: Follow-up -->
  <g>
    <rect x="980" y="80" width="90" height="60" rx="5" fill="#8b5cf6" opacity="0.8"/>
    <text x="1025" y="105" text-anchor="middle" fill="#fff" font-size="11" font-weight="bold">Follow-up</text>
    <text x="1025" y="120" text-anchor="middle" fill="#fff" font-size="11">Reminder</text>
    <text x="1025" y="155" text-anchor="middle" fill="#94a3b8" font-size="9">Portal</text>
  </g>

  <!-- Data Flows -->
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#64748b"/>
    </marker>
    <marker id="arrow-secure" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#ef4444"/>
    </marker>
  </defs>

  <!-- Flow arrows -->
  <line x1="245" y1="140" x2="375" y2="180" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="375" y1="240" x2="505" y2="280" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="505" y1="340" x2="635" y2="480" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="635" y1="480" x2="765" y2="340" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="765" y1="340" x2="895" y2="380" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="895" y1="380" x2="1025" y2="140" stroke="#64748b" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Data exchange labels -->
  <text x="300" y="165" fill="#94a3b8" font-size="9">Demographics</text>
  <text x="430" y="265" fill="#94a3b8" font-size="9">PHI Transfer</text>
  <text x="560" y="420" fill="#94a3b8" font-size="9">HL7 v2</text>
  <text x="690" y="420" fill="#94a3b8" font-size="9">FHIR R4</text>
  <text x="820" y="365" fill="#94a3b8" font-size="9">Claims Data</text>
  <text x="950" y="220" fill="#94a3b8" font-size="9">API Call</text>

  <!-- Security Boundaries -->
  <rect x="325" y="175" width="100" height="70" rx="5" fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
  <rect x="455" y="275" width="100" height="70" rx="5" fill="none" stroke="#ef4444" stroke-width="2" stroke-dasharray="5,5" opacity="0.6"/>
  <text x="600" y="680" text-anchor="middle" fill="#ef4444" font-size="11">Red Dashed = PHI Security Boundary</text>
</svg>