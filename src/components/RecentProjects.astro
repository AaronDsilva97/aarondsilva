---
interface Project {
  name: string;
  subtitle: string;
  highlights: string[];
  tech: string[];
  status: 'live' | 'archived' | 'wip';
  compliance?: string[];
  market?: string;
}

const projects: Project[] = [
  {
    name: 'Multi-Vendor Marketplace V2',
    subtitle: 'E-commerce platform: from constant crashes to 100% uptimeâ€”complete rebuild',
    highlights: [
      'Rebuilt entire platform from scratch: Flutter + Node.js + MongoDB',
      'Fixed constant server crashesâ€”achieved 100% uptime',
      'Rebuilt broken UI/UX flows for ads, auctions, carpool, chat',
      'Built comprehensive admin panels for multi-vendor management',
      'Reduced bugs significantly, optimized performance across platform'
    ],
    tech: ['Flutter', 'Node.js', 'MongoDB', 'AWS'],
    status: 'live',
    market: 'India'
  },
  {
    name: 'Security Testing Platform',
    subtitle: 'SaaS connecting pen testers to developersâ€”centralized security workflow',
    highlights: [
      'Built web application connecting penetration testers to development teams',
      'NestJS backend on AWS for secure vulnerability communication',
      'Regression tracking to prevent security issues from reappearing',
      'Centralized reporting dashboard for ISO 27001 compliance audits',
      'Streamlined security fix workflows across distributed teams'
    ],
    tech: ['NestJS', 'PostgreSQL', 'AWS', 'React'],
    status: 'live',
    compliance: ['ISO 27001'],
    market: 'Global'
  },
  {
    name: 'AI Ambient Listening RAG System',
    subtitle: 'Production RAG pipeline with intelligent medical responses and PHI anonymization',
    highlights: [
      'AWS Comprehend Medical for medical entity extraction from conversations',
      'Claude API for intelligent clinical responses and decision support',
      'Neo4j knowledge graphs for medical relationship mapping',
      'Embeddings pipeline on medical record library for context retrieval',
      'HIPAA-compliant PHI data anonymization and secure storage'
    ],
    tech: ['AWS Comprehend', 'Claude API', 'Neo4j', 'Python', 'React Native'],
    status: 'live',
    compliance: ['HIPAA'],
    market: 'US'
  },
  {
    name: 'FDA Healthcare Platform',
    subtitle: '100% uptime serving 100+ hospitalsâ€”architected secure, scalable infrastructure',
    highlights: [
      'Led pen testing remediation and implemented all security fixesâ€”saved months of effort',
      'Built AWS infrastructure with PostgreSQL RLS for secure multi-org data isolation',
      'Achieved and maintained 100% uptime across 100+ hospitals in US and India',
      'FDA, HIPAA, SOC2, ISO 27001 compliant system architecture'
    ],
    tech: ['React Native', 'Flask', 'AWS', 'PostgreSQL'],
    status: 'live',
    compliance: ['FDA', 'HIPAA', 'SOC2', 'ISO 27001'],
    market: 'US, India'
  },
  {
    name: 'Women\'s Health Platform V2',
    subtitle: 'Ground-up Flutter rebuildâ€”UK/Africa deployment with multi-language support',
    highlights: [
      'Rebuilt entire mobile app from scratch using Flutter',
      'Cycle tracking, self-testing workflows, healthcare provider connections',
      'Multi-language support for UK and African markets',
      'Significantly faster performance than V1 with improved UX',
      'GDPR-compliant architecture with data privacy controls'
    ],
    tech: ['Flutter', 'Dart', 'AWS'],
    status: 'live',
    compliance: ['GDPR'],
    market: 'UK, Africa'
  },
  {
    name: 'MCP Server for Healthcare Research',
    subtitle: 'No-code data access for researchersâ€”real-time analytics without custom dev',
    highlights: [
      'Built Model Context Protocol server for healthcare datasets',
      'Researchers access data without writing code or requesting custom solutions',
      'Real-time analytics and visualization capabilities',
      'Secure query interface for HIPAA-compliant databases',
      'Deployed across US and EU healthcare research institutions'
    ],
    tech: ['Python', 'MCP', 'PostgreSQL', 'AWS'],
    status: 'live',
    compliance: ['HIPAA'],
    market: 'US, EU'
  }
];

const statusConfig = {
  live: { label: 'ðŸŸ¢ Live', color: 'text-emerald-600 dark:text-emerald-400' },
  wip: { label: 'ðŸ”§ Building', color: 'text-yellow-600 dark:text-yellow-400' },
  archived: { label: 'ðŸ“¦ Archived', color: 'text-slate-500 dark:text-zinc-500' }
};

const { 'data-section': dataSection } = Astro.props;
---

<div class="flex flex-col h-full" data-section={dataSection}>
  <div class="flex items-center justify-between mb-4">
    <h3 class="font-semibold text-slate-900 dark:text-slate-100">Featured Work</h3>
    <span class="text-xs text-slate-500">Professional Projects</span>
  </div>

  <div class="space-y-4 flex-1 overflow-y-auto">
    {projects.map((project) => (
      <div class="group interactive-card glass-effect rounded-lg p-3 border border-slate-200 dark:border-slate-700/30">
        <div class="space-y-3">
          <div class="flex-1">
            <div class="flex items-start justify-between mb-2">
              <div class="flex items-center gap-2 flex-1">
                <h4 class="font-semibold text-base text-slate-800 dark:text-slate-100 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors">
                  {project.name}
                </h4>
                {project.market && (
                  <span class="text-xs text-slate-500 dark:text-slate-400">
                    {project.market}
                  </span>
                )}
              </div>
              <span class={`text-xs font-medium ${statusConfig[project.status].color} shrink-0 ml-2`}>
                {statusConfig[project.status].label}
              </span>
            </div>
            <p class="text-sm text-purple-600 dark:text-purple-400 mb-3 font-medium">
              {project.subtitle}
            </p>
            <ul class="space-y-1.5 mb-3">
              {project.highlights.map((highlight) => (
                <li class="flex items-start gap-2 text-xs text-slate-600 dark:text-slate-300 leading-relaxed">
                  <span class="text-purple-500 dark:text-purple-400 mt-0.5 shrink-0">â€¢</span>
                  <span>{highlight}</span>
                </li>
              ))}
            </ul>
          </div>

          <div class="flex flex-wrap gap-1">
            {project.tech.map((tech) => (
              <span
                class="px-2 py-0.5 bg-slate-100 dark:bg-slate-800/50 text-slate-600 dark:text-slate-300 text-xs rounded-md border border-slate-200 dark:border-slate-600/30 font-mono"
              >
                {tech}
              </span>
            ))}
          </div>

          {project.compliance && project.compliance.length > 0 && (
            <div class="flex gap-2 pt-1">
              {project.compliance.map((cert) => (
                <span
                  class="px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 text-xs rounded border border-emerald-200 dark:border-emerald-700/30 font-medium"
                >
                  {cert}
                </span>
              ))}
            </div>
          )}
        </div>
      </div>
    ))}
  </div>
</div>
